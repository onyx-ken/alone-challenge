<script>
    export let nickname = "홍길동";
    export let startDate = "2024-09-01";
    export let endDate = "2024-09-30";
    export let challengeDescription = "매일 아침 6시에 기상 하겠습니다";
    export let isSuccess = null;
    export let background = "/background1.png"; // 배경 이미지

    let successStamp = "/images/success-stamp.png";
    let failureStamp = "/images/failure-stamp.png";
</script>

<svelte:head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nanum+Brush+Script&display=swap" rel="stylesheet">
</svelte:head>

<!-- A4 비율을 맞춘 도전장 미리보기 -->
<div class="p-8 bg-base-200 rounded-lg shadow-lg w-full max-w-md mx-auto text-center nanum-brush-script-regular">
    <div class="bg-white p-6 rounded-lg shadow-lg border-4 border-gray-300 relative certificate-container"
         style="background-image: url({background}); background-size: cover; background-position: center;">
        <h1 class="text-6xl font-bold mb-6">도전장</h1>
        <div class="mb-4">
            <svg class="mx-auto" xmlns="http://www.w3.org/2000/svg"
                 width="36" height="36" viewBox="0 0 1072.000000 1280.000000"
                 preserveAspectRatio="xMidYMid meet">
                <metadata>
                    Created by potrace 1.15, written by Peter Selinger 2001-2017
                </metadata>
                <g transform="translate(0.000000,1280.000000) scale(0.100000,-0.100000)"
                   fill="#000000" stroke="none">
                    <path d="M4795 12794 c-452 -53 -784 -239 -1005 -564 -43 -64 -130 -235 -130
                        -257 0 -30 -285 -177 -760 -393 -704 -320 -877 -422 -1233 -727 -295 -254
                        -452 -551 -622 -1176 l-47 -172 -185 -90 c-641 -310 -808 -579 -808 -1305 0
                        -130 6 -265 14 -320 32 -238 100 -484 191 -689 39 -89 41 -99 50 -244 84
                        -1276 395 -2491 930 -3637 109 -233 157 -326 216 -421 69 -108 115 -218 148
                        -350 68 -268 62 -501 -29 -1141 -13 -97 -29 -241 -35 -320 -6 -78 -15 -190
                        -20 -248 -21 -228 -9 -308 60 -379 66 -68 108 -75 366 -64 206 9 222 11 270
                        36 85 43 145 123 178 238 30 101 37 170 51 499 8 186 21 363 30 414 30 172 87
                        276 230 421 162 164 307 250 717 426 259 111 418 186 563 268 256 144 427 148
                        561 13 127 -129 182 -370 169 -737 -4 -115 -7 -284 -6 -375 2 -141 -3 -206
                        -35 -445 -57 -437 -51 -605 27 -726 41 -64 90 -99 168 -121 165 -45 264 -3
                        290 124 7 32 10 150 9 298 -2 208 0 253 15 300 48 154 52 204 49 605 -3 417 6
                        551 45 685 61 211 196 351 431 446 386 156 876 36 1229 -299 133 -127 167
                        -177 208 -313 90 -296 124 -564 145 -1149 12 -355 18 -446 36 -625 25 -251 23
                        -243 69 -259 25 -8 104 -15 208 -19 l167 -5 0 174 c-1 307 -24 989 -50 1454
                        -5 95 -24 270 -44 395 -46 300 -56 396 -56 542 0 230 48 421 128 511 114 131
                        258 246 622 502 287 201 391 283 515 410 115 117 194 223 261 350 26 50 56
                        102 66 116 31 46 134 259 176 364 22 55 74 206 117 335 196 598 217 652 376
                        948 364 677 591 1170 787 1707 85 232 102 300 102 400 0 197 -72 382 -295 750
                        -167 276 -209 361 -317 643 -150 393 -280 684 -429 962 -106 200 -103 194
                        -153 302 -148 324 -446 614 -795 776 -87 40 -286 107 -351 117 -63 10 -74 18
                        -106 72 -52 89 -163 238 -246 329 -339 370 -734 578 -1144 601 -101 5 -118 4
                        -195 -20 -381 -119 -670 -116 -1339 12 -238 45 -421 60 -555 45z m705 -640
                        c72 -21 125 -49 176 -90 41 -33 41 -34 47 -116 9 -113 34 -223 110 -483 36
                        -121 74 -258 85 -305 96 -397 19 -593 -259 -665 -130 -34 -225 0 -336 119 -85
                        93 -144 191 -303 504 -89 176 -158 298 -211 373 -96 136 -114 180 -114 279 0
                        92 24 146 95 216 93 92 241 160 395 184 83 12 249 4 315 -16z m1078 -58 c124
                        -29 274 -104 405 -202 74 -55 474 -458 483 -486 8 -27 -19 -64 -64 -87 -20
                        -10 -89 -40 -151 -65 -62 -25 -125 -53 -140 -63 -29 -19 -192 -106 -346 -183
                        -105 -52 -187 -74 -241 -64 -34 6 -39 15 -77 134 -69 213 -120 520 -152 915
                        -4 44 -9 88 -11 97 -4 13 4 18 38 21 64 7 192 -2 256 -17z m-2145 -751 c195
                        -286 381 -640 592 -1129 62 -144 329 -789 399 -964 11 -29 40 -76 64 -105 138
                        -168 146 -339 23 -466 -46 -47 -128 -96 -201 -120 -20 -6 -81 -17 -135 -25
                        -55 -8 -120 -22 -145 -31 -108 -41 -286 18 -419 140 -61 56 -167 184 -235 285
                        -92 137 -168 294 -326 675 -81 195 -176 386 -247 494 -60 92 -170 213 -242
                        266 l-43 32 -122 -34 c-167 -48 -437 -138 -650 -218 -168 -63 -263 -101 -680
                        -271 l-168 -69 -23 29 c-25 31 -45 96 -45 143 0 84 69 247 156 369 70 97 205
                        236 303 310 96 73 240 148 316 164 111 24 268 92 635 276 395 198 506 248 644
                        291 145 46 243 62 366 60 l115 -2 68 -100z m3940 -150 c86 -22 168 -68 236
                        -131 113 -105 136 -148 473 -904 186 -419 452 -969 543 -1125 223 -381 328
                        -717 312 -1000 -10 -175 -59 -345 -138 -480 -22 -38 -124 -252 -226 -475 -450
                        -984 -705 -1412 -1072 -1802 -204 -216 -505 -435 -749 -544 -336 -151 -571
                        -176 -824 -88 -460 160 -900 536 -1260 1080 -170 257 -202 327 -287 624 -106
                        369 -144 644 -122 877 19 193 72 362 158 503 21 36 54 102 72 146 116 292 426
                        577 821 756 105 47 337 133 460 169 235 70 558 65 846 -11 349 -93 735 -292
                        1063 -548 214 -168 315 -238 389 -268 76 -31 112 -31 143 2 22 23 24 34 24
                        117 l0 92 -199 425 c-284 608 -522 1087 -547 1100 -33 18 -150 24 -225 11
                        -110 -19 -203 -55 -448 -173 -274 -132 -373 -171 -486 -193 -47 -9 -119 -27
                        -160 -40 -141 -44 -180 -50 -350 -50 -180 0 -252 12 -410 67 -358 125 -633
                        414 -666 699 l-6 54 884 443 c485 243 928 467 983 497 122 67 278 129 399 160
                        110 29 279 33 369 10z m-5068 -1590 c144 -63 324 -228 452 -413 38 -54 136
                        -210 218 -346 138 -229 222 -350 348 -502 27 -33 68 -97 90 -144 39 -80 42
                        -90 42 -171 0 -78 -3 -90 -30 -135 -101 -163 -437 -229 -704 -138 -257 88
                        -475 303 -728 717 l-78 127 -70 -6 c-103 -8 -266 -47 -385 -90 -103 -38 -791
                        -372 -860 -418 -19 -13 -49 -47 -65 -77 -29 -52 -30 -59 -29 -169 1 -122 9
                        -154 98 -445 21 -66 46 -160 57 -210 26 -123 94 -260 155 -314 117 -103 222
                        -71 465 139 335 291 334 290 634 410 405 162 947 31 1431 -345 217 -170 443
                        -484 579 -805 191 -451 263 -986 199 -1480 -63 -493 -178 -756 -448 -1025
                        -129 -129 -245 -214 -386 -285 -168 -84 -247 -109 -555 -175 -66 -15 -165 -37
                        -221 -51 l-101 -25 -131 20 c-416 64 -799 226 -1084 458 -110 89 -226 220
                        -336 377 -127 182 -188 287 -246 426 -122 290 -176 564 -221 1115 -45 557 -56
                        665 -65 688 -31 72 -282 719 -335 862 -66 179 -137 398 -179 553 -20 76 -32
                        101 -69 145 -152 179 -194 343 -121 476 54 101 206 217 399 306 44 21 141 64
                        215 97 195 86 254 117 567 296 630 360 902 480 1258 557 141 30 172 30 240 0z"/>
                </g>
            </svg>
        </div>
        <div class="mb-4">
            <h2 class="text-4xl font-semibold">{nickname}</h2>
        </div>
        <div class="mb-4">
            <p class="text-lg font-semibold">"{challengeDescription}"</p>
        </div>
        <div class="mb-4">
            <p class="text-lg font-medium">{startDate} ~ {endDate}</p>
        </div>
        {#if isSuccess !== null}
            <div class="mt-8">
                {#if isSuccess}
                    <img src={successStamp} alt="성공 도장" class="w-32 h-32 mx-auto"/>
                {:else}
                    <img src={failureStamp} alt="실패 도장" class="w-32 h-32 mx-auto"/>
                {/if}
            </div>
        {/if}
    </div>
</div>

<style>
    .certificate-container {
        width: 210mm; /* A4 용지 너비 */
        height: 297mm; /* A4 용지 높이 */
        aspect-ratio: 210 / 297; /* A4 비율 */
        display: flex;
        flex-direction: column;
        justify-content: center; /* 수직 가운데 정렬 */
        align-items: center; /* 수평 가운데 정렬 */
        text-align: center; /* 텍스트 가운데 정렬 */
    }

    .nanum-brush-script-regular {
        font-family: "Nanum Brush Script", cursive;
        font-weight: 400;
        font-style: normal;
    }
</style>
